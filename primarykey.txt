[fmacfarlane@ts-ug-dev ~]$ cd project
[fmacfarlane@ts-ug-dev project]$ mysql -u fmacfarlane -p fmacfarlane
Enter password: 
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 292
Server version: 5.1.69 Source distribution

Copyright (c) 2000, 2013, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql> show tables;
+-----------------------+
| Tables_in_fmacfarlane |
+-----------------------+
| data4                 |
| expression2           |
| gene                  |
| probe                 |
| sample                |
| sequence              |
+-----------------------+
6 rows in set (0.00 sec)

mysql> describe gene;
+-------------+-------------+------+-----+---------+-------+
| Field       | Type        | Null | Key | Default | Extra |
+-------------+-------------+------+-----+---------+-------+
| gene_title  | varchar(30) | NO   |     | NULL    |       |
| gene_symbol | varchar(30) | NO   |     | NULL    |       |
| gene_id     | varchar(30) | NO   |     | NULL    |       |
+-------------+-------------+------+-----+---------+-------+
3 rows in set (0.01 sec)

mysql> ALTER TABLE gene ADD PRIMARY KEY (gene_title);
ERROR 1062 (23000): Duplicate entry '5594' for key 'PRIMARY'
mysql> ALTER TABLE gene ADD PRIMARY KEY (gene_id);
ERROR 1062 (23000): Duplicate entry 'cytochrome P450, family 2, sub' for key 'PRIMARY'
mysql> PRIMARY KEY (gene_id);                     
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'PRIMARY KEY (gene_id)' at line 1
mysql> describe expression2;
+-----------------+-------------+------+-----+---------+-------+
| Field           | Type        | Null | Key | Default | Extra |
+-----------------+-------------+------+-----+---------+-------+
| id_ref          | varchar(30) | NO   |     | NULL    |       |
| gene_expression | varchar(30) | NO   |     | NULL    |       |
| sample_id       | varchar(30) | NO   |     | NULL    |       |
+-----------------+-------------+------+-----+---------+-------+
3 rows in set (0.00 sec)

mysql> ALTER TABLE expression2 ADD PRIMARY KEY (id_ref);
ERROR 1062 (23000): Duplicate entry 'GSM855942' for key 'PRIMARY'
mysql> describe gene;
+-------------+-------------+------+-----+---------+-------+
| Field       | Type        | Null | Key | Default | Extra |
+-------------+-------------+------+-----+---------+-------+
| gene_title  | varchar(30) | NO   |     | NULL    |       |
| gene_symbol | varchar(30) | NO   |     | NULL    |       |
| gene_id     | varchar(30) | NO   |     | NULL    |       |
+-------------+-------------+------+-----+---------+-------+
3 rows in set (0.01 sec)

mysql> ALTER IGNORE TABLE gene ADD PRIMARY KEY (gene_id);
Query OK, 52902 rows affected (0.69 sec)
Records: 52902  Duplicates: 38663  Warnings: 0

mysql> describe gene;
+-------------+-------------+------+-----+---------+-------+
| Field       | Type        | Null | Key | Default | Extra |
+-------------+-------------+------+-----+---------+-------+
| gene_title  | varchar(30) | NO   |     | NULL    |       |
| gene_symbol | varchar(30) | NO   |     | NULL    |       |
| gene_id     | varchar(30) | NO   | PRI | NULL    |       |
+-------------+-------------+------+-----+---------+-------+
3 rows in set (0.00 sec)

mysql> describe expression2;                             
+-----------------+-------------+------+-----+---------+-------+
| Field           | Type        | Null | Key | Default | Extra |
+-----------------+-------------+------+-----+---------+-------+
| id_ref          | varchar(30) | NO   |     | NULL    |       |
| gene_expression | varchar(30) | NO   |     | NULL    |       |
| sample_id       | varchar(30) | NO   |     | NULL    |       |
+-----------------+-------------+------+-----+---------+-------+
3 rows in set (0.00 sec)

mysql> ALTER IGNORE TABLE expression2  ADD PRIMARY KEY (id_ref,sample_id);

Query OK, 1428354 rows affected (23.18 sec)
Records: 1428354  Duplicates: 1226894  Warnings: 0

mysql> 
mysql> describe expression2;
+-----------------+-------------+------+-----+---------+-------+
| Field           | Type        | Null | Key | Default | Extra |
+-----------------+-------------+------+-----+---------+-------+
| id_ref          | varchar(30) | NO   | PRI | NULL    |       |
| gene_expression | varchar(30) | NO   |     | NULL    |       |
| sample_id       | varchar(30) | NO   | PRI | NULL    |       |
+-----------------+-------------+------+-----+---------+-------+
3 rows in set (0.00 sec)

mysql> Bye
[fmacfarlane@ts-ug-dev project]$   
